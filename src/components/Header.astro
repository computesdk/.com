---
const { hasSidebar } = Astro.locals.starlightRoute

import LanguageSelect from 'virtual:starlight/components/LanguageSelect'
import MobileMenuToggle from 'virtual:starlight/components/MobileMenuToggle'
import Search from 'virtual:starlight/components/Search'
import SiteTitle from 'virtual:starlight/components/SiteTitle'
import SocialIcons from 'virtual:starlight/components/SocialIcons'
import ThemeSelect from 'virtual:starlight/components/ThemeSelect'

import options from 'virtual:starlight-theme-nova/user-config'
import { getI18nText } from './get-i18n-text'
import SplashMobileMenu from './SplashMobileMenu.astro'
import CustomMobileMenu from './CustomMobileMenu.astro'

const nav = options.nav ?? []
const route = Astro.locals.starlightRoute
---

<div class="nova-header justify-between">
  <div class="nova-header-title">
    <SiteTitle />
  </div>
  <nav class="nova-header-nav">
    {
      nav.map((item) => (
        <a class="nova-header-nav-link" href={getI18nText(item.href, route)}>
          {getI18nText(item.label, route)}
        </a>
      ))
    }
  </nav>
  <div class="flex items-center justify-center">
  <div class="nova-header-search">
    <Search />
  </div>
    <div class="nova-header-actions-lg">
      <ThemeSelect />
      <SocialIcons />
      <LanguageSelect />
    </div>
    <div class="nova-header-actions-sm">
      <CustomMobileMenu />
      {hasSidebar && <MobileMenuToggle />}
    </div>
  </div>
</div>